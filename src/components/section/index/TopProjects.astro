---
import TitleSection from "@/components/shared/TitleSection.astro";
import projectData from "@/data/projects.json";
import Badge from "@/components/shared/Badge.astro";
import ProjectCard from "@/components/shared/ProjectCard.astro";
---

<TitleSection title="My Top Projects" flexOrGrid="grid" breakpoint="2xl">
  {
    projectData.top.map((project) => (
      <ProjectCard
        title={project.title}
        text={project.description}
        iconName={project["icon-name"]}
        iconSize={36}
        repository={project.repository}
        deployed={project.deployed}
        link={project.link}
        stack={project.stack}
      >
        <div class="flex flex-col gap-8">
          <div class="flex w-full flex-row items-start justify-start gap-2">
            {project.stack.map((tech) => (
              <Badge text={tech} />
            ))}
          </div>
          {project.deployed ? (
            <div class="flex flex-row gap-8">
              <a class="link-primary text-left" href={project.repository}>
                Repository
              </a>
              <a class="link-primary text-left" href={project.link}>
                See the demo
              </a>
            </div>
          ) : (
            <a class="link-primary text-left" href={project.repository}>
              Repository
            </a>
          )}
        </div>
      </ProjectCard>
    ))
  }
</TitleSection>
